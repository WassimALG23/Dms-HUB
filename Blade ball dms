local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

local loadedKey = game:HttpGet('https://pastebin.com/raw/NSkYNvzH')


function LoadSkir()
  loadstring(game:HttpGet("https://raw.githubusercontent.com/1f0yt/community/main/AutoBlock"))()
end


function ReadKey()  
    if readfile("/SkirHub/Key.skir") == loadedKey then
        LoadSkir()
    else
        local Window = Rayfield:CreateWindow({
            Name = "DMS KeySystem",
            LoadingTitle = "Make sure to join the discord",
            LoadingSubtitle = "by DEAD / zoro_ontop",
            ConfigurationSaving = {
                Enabled = false,
                FolderName = nil, -- Create a custom folder for your hub/game
                FileName = "DMS Hub"
            },
            Discord = {
                Enabled = true,
                Invite = "BdtqHDSa", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ABCD would be ABCD
                RememberJoins = true  -- Set this to false to make them join the discord every time they load it up
            },
            KeySystem =false  ,        -- Set this to true to use our key system
            KeySettings = {
                Title = "DMS Key",
                Subtitle = "Key System",
                Note = "Join Our Discord For The Key Tutorial : https://discord.gg/BdtqHDSa",
                FileName = "Key",       -- It is recommended to use something unique as other scripts using Rayfield may overwrite your key file
                SaveKey = false,         -- The user's key will be saved, but if you change the key, they will be unable to use your script
                GrabKeyFromSite = "https://pastebin.com/raw/24Hdj0CZ"  , -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
                Key = { "DMSFORFREE" }       -- List of keys that will be accepted by the system, can be RAW file links (pastebin, github etc) or simple strings ("hello","key22")
            }
        })
        local Tab = Window:CreateTab("Key System", 4483362458)  -- Title, Image
        local Input = Tab:CreateInput({
            Name = "Put your key :",
            PlaceholderText = "DMS Key System",
            RemoveTextAfterFocusLost = false,
            Callback = function(Text)
                getgenv().InputKey = Text
            end,
        })
        local Button = Tab:CreateButton({
            Name = "Check Key",
            Callback = function()
                if getgenv().InputKey == "DMSFORFREE" then
                    writefile("/SkirHub/Key.skir", loadedKey)
                    Rayfield:Notify({
                        Title = "DMS Hub Notification",
                        Content = "Loading DMS HUB",
                        Duration = 6.5,
                        Image = 4483362458,
                        Actions = { -- Notification Buttons
                            Ignore = {
                                Name = "Okay!",
                                Callback = function(Value)

                                end
                            },
                        },
                    })
                    LoadSkir()
                    Rayfield:Destroy()
                else
                    Rayfield:Notify({
                        Title = "DMS Hub Notification",
                        Content = "Wrong Key, Try again",
                        Duration = 6.5,
                        Image = 4483362458,
                        Actions = { -- Notification Buttons
                            Ignore = {
                                Name = "Okay!",
                                Callback = function(Value)

                                end
                            },
                        },
                    })
                end
            end,
        })
    end
end

if isfolder("/SkirHub") then
    if isfile("/SkirHub/Key.skir") then
        ReadKey()
    else
        writefile("/SkirHub/Key.skir", "")
        ReadKey()
    end
else
    makefolder("SkirHub")
    writefile("/SkirHub/Key.skir", "")
    ReadKey()
end 
